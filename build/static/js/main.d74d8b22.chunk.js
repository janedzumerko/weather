(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(132),r=a(0),i=a.n(r),c=a(14),o=a.n(c),l=a(15);a(80),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u="UPDATE_SELECTED_CARD",s="SAVE_WEATHER_DATA",d="UPDATE_TEMP_SCALE",m="ERROR_LOADING_DATA",p={UPDATE_SELECTED_CARD:u,SAVE_WEATHER_DATA:s,UPDATE_TEMP_SCALE:d,ERROR_LOADING_DATA:m};var h={saveWeatherData:function(e){return{type:s,payload:e}},updateSelectedCard:function(e){return{type:u,payload:e}},updateTempScale:function(e){return{type:d,payload:e}},errorLoadingData:function(){return{type:m}}},f=a(32),v=function(e){return 3*(e-253)+20},y=function(e){return"celsius"===e},g=function(e){return Math.round(e-273.15)},E=function(e){return Math.round(1.8*e-459.67)},b=function(e){var t=e.split("-"),a=new Date(t[0],t[1]-1,t[2]);return w(a.getDay())},w=function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e];if(t)return t;throw new Error("No weekday found for index: ".concat(e))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(new Date).getTime(),n={};return n.value=requestAnimationFrame(function r(){(new Date).getTime()-a>=t?e.call():n.value=requestAnimationFrame(r)}),n},D=function(e){for(var t,a,n={},r=e.list,i=0;i<r.length;i++)t=r[i].dt_txt.split(" ")[0],a=r[i].dt_txt.split(" ")[1].split(":")[0],n.hasOwnProperty(t)||(n[t]={list:[],day:"",avgTempF:0,avgTempC:0},n[t].day=b(t)),n[t].list=n[t].list.concat([{time:a,temp:r[i].main.temp,tempC:g(r[i].main.temp),tempF:E(r[i].main.temp)}]);return function(e){for(var t in e){for(var a=0,n=e[t].list.length,r=0;r<n;r++)a+=e[t].list[r].temp;a/=n,e[t].avgTempF=E(a),e[t].avgTempC=g(a)}}(n),n},j={loading:!0,errorLoadingData:!1,weatherData:{},selectedDate:"",tempScale:"fahrenheit"};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SAVE_WEATHER_DATA:var a=D(t.payload);return Object(f.a)({},e,{weatherData:a,loading:!1,selectedDate:t.payload.list[0].dt_txt.split(" ")[0]});case p.UPDATE_SELECTED_CARD:return Object(f.a)({},e,{selectedDate:t.payload});case p.UPDATE_TEMP_SCALE:return Object(f.a)({},e,{tempScale:t.payload});case p.ERROR_LOADING_DATA:return Object(f.a)({},e,{loading:!1,errorLoadingData:!0});default:return e}},C=a(56),S=a.n(C),T=function(){return function(e){return S.a.get("http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40").then(function(t){return e(h.saveWeatherData(t.data))}).catch(function(){return e(h.errorLoadingData())})}},_=a(29),k=a(57),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.c,L=Object(_.d)(x,A(Object(_.a)(k.a))),R=a(66),F=Object(R.a)({palette:{primary:{main:"#FFC107"},secondary:{main:"#FF0000"}}}),P=a(22),M=a(23),I=a(25),N=a(24),W=a(26),U=a(110),B=a(37),q=a(111),H=a(129),V=Object(H.a)("div")({display:"flex",flexDirection:"column",alignItems:"center",minWidth:"30px"}),X=Object(H.a)(function(e){e.height,e.color;var t=Object(B.a)(e,["height","color"]);return i.a.createElement("div",t)})({position:"relative",margin:"4px",width:"100%",height:function(e){return e.height},transition:"height 500ms linear",background:function(e){return e.color.main},border:function(e){return"1px solid ".concat(e.color.dark)},"&:hover":{backgroundColor:function(e){return e.color.light}}}),G=Object(H.a)(q.a)({lineHeight:"normal"}),J=Object(H.a)(G)({position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)"});var Z=function(e){var t=e.temp,a=e.time,n=e.showTemp,r=e.type,c=Object(U.a)();return i.a.createElement(V,null,i.a.createElement(G,{variant:"body1"},n,r),i.a.createElement(X,{height:t,color:c.palette.primary},i.a.createElement(J,{variant:"body2"},a)))},z=Object(H.a)("div")({width:"295px",height:"230px",padding:"20px",display:"flex",justifyContent:"space-evenly",alignItems:"flex-end"});var $=Object(l.b)(function(e){return{tempScale:e.tempScale,selectedDate:e.selectedDate,weatherData:e.weatherData}})(function(e){var t=e.weatherData,a=e.selectedDate,n=e.tempScale;return i.a.createElement(z,null,t[a].list.map(function(e){return i.a.createElement(Z,{showTemp:y(n)?e.tempC:e.tempF,key:e.time,time:e.time,type:y(n)?"C":"F",temp:v(e.temp)})}))}),K=a(58),Q=a.n(K),Y=a(59),ee=a.n(Y),te=a(130),ae=a(134),ne=Object(H.a)(te.a)({padding:0,"&:last-child":{paddingBottom:0}}),re=Object(H.a)(function(e){e.selected;var t=Object(B.a)(e,["selected"]);return i.a.createElement(ae.a,t)})({margin:"10px",cursor:"pointer",width:"80px",border:function(e){return"".concat(e.selected?"2px solid #FFC107":"")},display:"inline-block",padding:function(e){return"".concat(e.selected?"5px":"7px")}}),ie=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(M.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.type!==e.type||this.props.selected!==e.selected}},{key:"render",value:function(){var e=this.props,t=e.selected,a=e.click,n=e.date,r=e.day,c=e.avgTemp,o=e.type;return i.a.createElement(re,{selected:t,onClick:a},i.a.createElement(ne,null,i.a.createElement(q.a,{color:"textPrimary"},"Temp:"),i.a.createElement(q.a,{color:"textSecondary",variant:"subtitle1",gutterBottom:!0},c,o),i.a.createElement(q.a,{color:"textPrimary"},"Date:"),i.a.createElement(q.a,{color:"textSecondary",variant:"subtitle1"},n," ",i.a.createElement("br",null)," (",r,")")))}}]),t}(r.Component),ce=Object(H.a)("div")({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",Zindex:"20"}),oe=Object(H.a)("div")({width:"295px",height:"60px",padding:"0 30px",display:"flex",justifyContent:"space-between"}),le=Object(H.a)("img")({cursor:"pointer"}),ue=Object(H.a)("div")({display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",overflowX:"hidden",width:"342px"}),se=function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(I.a)(this,Object(N.a)(t).call(this))).handleMove=function(t){e.state.intervalStart||e.move(t)},e.scroller=i.a.createRef(),e.state={position:0,intervalStart:!1},e}return Object(W.a)(t,e),Object(M.a)(t,[{key:"move",value:function(e){var t=this,a=Math.round(this.scroller.current.scrollLeft);a+=114*e,this.setState({intervalStart:!0});var n=setInterval(function(){Math.round(t.scroller.current.scrollLeft)===a?(clearInterval(n),t.setState({intervalStart:!1,position:Math.round(t.scroller.current.scrollLeft)})):t.scroller.current.scrollLeft+=e},5)}},{key:"render",value:function(){var e=this,t=this.props,a=t.weatherData,n=t.selectedDate,r=t.tempScale,c=t.handleSelectCard;return i.a.createElement(ce,{"data-test":"component-carousel"},i.a.createElement(oe,{"data-test":"navigation"},0===this.state.position?i.a.createElement("div",null):i.a.createElement(le,{"data-test":"left-arrow",alt:"left-arrow",onClick:function(){return e.handleMove(-1)},width:"50",src:Q.a}),this.state.position===114*(Object.keys(a).length-3)?i.a.createElement("div",null):i.a.createElement(le,{"data-test":"right-arrow",alt:"right-arrow",onClick:function(){return e.handleMove(1)},width:"50",src:ee.a})),i.a.createElement(ue,{ref:this.scroller,"data-test":"cards"},Object.keys(a).map(function(e){return i.a.createElement(ie,{key:e,day:a[e].day,click:function(){return c(e)},date:e,selected:e===n,avgTemp:y(r)?a[e].avgTempC:a[e].avgTempF,type:y(r)?"C":"F"})})))}}]),t}(r.PureComponent),de=Object(l.b)(function(e){return{weatherData:e.weatherData,selectedDate:e.selectedDate,tempScale:e.tempScale}},function(e){return{handleSelectCard:function(t){return e(h.updateSelectedCard(t))}}})(se);a(99);var me=function(e){var t=e.type;return i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"762px",height:"331px",viewBox:"0 0 762 331",enableBackground:"new 0 0 762 331",className:"cloud ".concat(t)},i.a.createElement("path",{fill:"#FFFFFF",d:"M715.394,228h-16.595c0.79-5.219,1.201-10.562,1.201-16c0-58.542-47.458-106-106-106\nc-8.198,0-16.178,0.932-23.841,2.693C548.279,45.434,488.199,0,417.5,0c-84.827,0-154.374,65.401-160.98,148.529\nC245.15,143.684,232.639,141,219.5,141c-49.667,0-90.381,38.315-94.204,87H46.607C20.866,228,0,251.058,0,279.5\nS20.866,331,46.607,331h668.787C741.133,331,762,307.942,762,279.5S741.133,228,715.394,228z"}))},pe=Object(H.a)("div")({position:"absolute",top:"0",left:"0",right:"0",bottom:"0",overflow:"hidden",transform:"translateZ(0)"});var he=function(){return i.a.createElement(pe,null,i.a.createElement(me,{type:"big front slowest"}),i.a.createElement(me,{type:"distant smaller"}),i.a.createElement(me,{type:"small slow"}),i.a.createElement(me,{type:"distant super-slow massive"}),i.a.createElement(me,{type:"slower"}))},fe=a(131),ve=a(133),ye=a(135);var ge=Object(l.b)(function(e){return{tempScale:e.tempScale}},function(e){return{changeTempScale:function(t){return e(h.updateTempScale(t.target.value))}}})(function(e){var t=e.tempScale,a=e.changeTempScale;return i.a.createElement(ye.a,{"aria-label":"Temperature",name:"temperature",value:t,onChange:a,row:!0},i.a.createElement(fe.a,{value:"celsius",control:i.a.createElement(ve.a,{color:"primary"}),label:"Celsius",labelPlacement:"end"}),i.a.createElement(fe.a,{value:"fahrenheit",control:i.a.createElement(ve.a,{color:"primary"}),label:"Fahrenheit",labelPlacement:"end"}))}),Ee=Object(H.a)("div")({height:"100%",padding:"20px 10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"});var be=function(){return i.a.createElement(Ee,{"data-test":"component-home"},i.a.createElement(he,{"data-test":"component-clouds"}),i.a.createElement(ge,{"data-test":"component-temperature-check"}),i.a.createElement(de,{"data-test":"component-carousel"}),i.a.createElement($,{"data-test":"component-bar-chart"}))},we=a(67),Oe=(a(108),function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(I.a)(this,Object(N.a)(t).call(this))).loader=i.a.createRef(),e.circle=i.a.createRef(),e.rays=[],e}return Object(W.a)(t,e),Object(M.a)(t,[{key:"_getCircle",value:function(){return this.circle.current?this.circle.current:document.querySelector(".loader__circle")}},{key:"animateIn",value:function(){var e=this;this.animateCircle(),O(function(){return e.animateRays()},300),O(function(){return e.startRotation()},500)}},{key:"animateRays",value:function(){this.rays.map(function(e,t){return O(function(){return e.classList.add("animate-in")},80*t),e})}},{key:"startRotation",value:function(){var e=this;O(function(){return e._getCircle().classList.add("start-rotation")},300)}},{key:"animateCircle",value:function(){var e=this;O(function(){return e._getCircle().classList.add("animate-in")},150)}},{key:"animateOut",value:function(){var e=this;O(function(){return e._getCircle().classList.add("animate-out")},550),this.rays.map(function(e,t){return O(function(){return e.classList.add("animate-out")},50*t),e})}},{key:"componentDidMount",value:function(){this.rays=Object(we.a)(this._getCircle().querySelectorAll(".ray"))}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.loader,className:"loader"},i.a.createElement("div",{ref:this.circle,className:"loader__circle"},[0,1].map(function(e){return i.a.createElement("div",{key:"ray_".concat(e),className:"rays"},i.a.createElement("div",{className:"ray ray--north"}),i.a.createElement("div",{className:"ray ray--west"}),i.a.createElement("div",{className:"ray ray--east"}),i.a.createElement("div",{className:"ray ray--south"}))})))}}]),t}(r.PureComponent)),De=Object(H.a)("div")({background:"#85b9dd",display:"flex",flexDirection:"column",height:"100vh",justifyContent:"space-between",position:"relative",overflow:"hidden","@media screen and (min-width: 550px)":{borderRadius:"10px",boxShadow:"0 3px 20px 0 rgba(0, 0, 0, 0.06)",height:"667px",overflow:"hidden",width:"385px"}}),je=Object(H.a)(q.a)({padding:"1em"}),xe=function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(I.a)(this,Object(N.a)(t).call(this))).state={loading:!0},e.loader=i.a.createRef(),e}return Object(W.a)(t,e),Object(M.a)(t,[{key:"init",value:function(){var e=this;this.props.getWeather(),O(function(){return e.loader.current.animateIn()},100)}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.loading!==e.loading&&O(function(){t.loader.current.animateOut(),O(function(){return t.setState({loading:!1})},600)},1e3)}},{key:"render",value:function(){return i.a.createElement(De,{"data-test":"component-app"},this.state.loading?i.a.createElement(Oe,{"data-test":"component-loader",ref:this.loader}):this.props.errorLoadingData?i.a.createElement(je,{"data-test":"error-text",variant:"h4"},"There was an error fetching the data. Please try again later..."):i.a.createElement(be,{"data-test":"component-home"}))}}]),t}(r.Component),Ce=Object(l.b)(function(e){return{loading:e.loading,weatherData:e.weatherData,errorLoadingData:e.errorLoadingData}},function(e){return{getWeather:function(){return e(T())}}})(xe);o.a.render(i.a.createElement(l.a,{store:L},i.a.createElement(n.a,{theme:F},i.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a.p+"static/media/left-arrow.7e450413.svg"},59:function(e,t,a){e.exports=a.p+"static/media/right-arrow.d4f6deba.svg"},71:function(e,t,a){e.exports=a(109)},80:function(e,t,a){},99:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.d74d8b22.chunk.js.map